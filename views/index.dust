<!DOCTYPE html>
<html lang="ko_KR">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<title>우리 언제 만나</title>
	<link rel="stylesheet" href="/bower_components/font-awesome/css/font-awesome.min.css"/>
	<link rel="stylesheet" href="/dist/whenwemeet.css"/>
</head>
<body>
	<div id="whenwemeet">
		<div id="view">
			<canvas id="splashscreen" style="width: 100%;"></canvas>
		</div>
		<div id="modal"></div>
	</div>
	<script>
		document.addEventListener("DOMContentLoaded", function(event) {
			var canvas = document.getElementById('splashscreen');
			var ctx = canvas.getContext('2d');
			drawEqTriangle(ctx, 50, canvas.width/2 + 13, canvas.height/2, 'magenta');
			drawRevEqTriangle(ctx, 50, canvas.width/2 + 7, canvas.height/2, 'cyan');
			drawEqTriangle(ctx, 50, canvas.width/2 - 16, canvas.height/2 - 49, 'yellow');
			drawRevEqTriangle(ctx, 50, canvas.width/2 + 36, canvas.height/2 + 49, 'greenyellow');
			function drawEqTriangle(ctx, side, cx, cy, color){  
				var h = side * (Math.sqrt(3)/2);    
				ctx.fillStyle = color;
				ctx.beginPath();
				ctx.moveTo(cx, cy - h / 2);
				ctx.lineTo(cx - side / 2, cy + h / 2);
				ctx.lineTo(cx + side / 2, cy + h / 2);
				ctx.lineTo(cx, cy - h / 2);
				ctx.shadowOffsetX = 1;
				ctx.shadowOffsetY = 3;
				ctx.shadowBlur    = 1;
				ctx.shadowColor   = 'rgb(204, 204, 204)';      
				ctx.fill(); 
			}
			function drawRevEqTriangle(ctx, side, cx, cy, color){  
				var h = side * (Math.sqrt(3)/2); 
				ctx.fillStyle = color;
				ctx.beginPath(); 
				ctx.moveTo(cx, cy - h / 2);
				ctx.lineTo(cx - side, cy - h / 2);
				ctx.lineTo(cx - side / 2, cy + h / 2);
				ctx.lineTo(cx, cy - h / 2);
				ctx.shadowOffsetX = 1;
				ctx.shadowOffsetY = 3;
				ctx.shadowBlur    = 1;
				ctx.shadowColor   = 'rgb(204, 204, 204)'; 
				ctx.fill(); 
			}
		});
	</script>
	<script src="/bower_components/jquery/dist/jquery.min.js"></script>
	<script src="/bower_components/dustjs-linkedin/dist/dust-full.min.js"></script>
	<script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
	<script src="/bower_components/spin.js/spin.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="/js/wwm.js"></script>
	<script src="/js/wwm.model.js"></script>
	<script src="/js/wwm.shell.js"></script>
	<script src="/js/wwm.login.js"></script>
	<script src="/js/wwm.lobby.js"></script>
	<script src="/js/wwm.modal.js"></script>
	<script src="/js/wwm.room.js"></script>
	<script src="/js/wwm.confirm.js"></script>
	<script type="text/html" id="wwm-login">
		<div id="logo">
			우리언제만나
			<canvas id="canvas-logo"></canvas>
		</div>
		<div id="login">
			<div>
				<img id="kakao-login-btn" src="/kakao_account_login_btn_medium_narrow.png"/>
			</div>
			<div>
				<img id="fb-login-btn" src="/facebook.png"/>
			</div>
			<div id="localhost-login">로컬호스트 로그인</div>
			<div id="localhost2-login">로컬호스트2 로그인</div>
		</div>
	</script>
	<script type="text/html" id="wwm-lobby">
		<header id="lobby-header">
			<p>{~lb}name{~rb}님 안녕하세요!</p>
			<button id="logout-btn">로그아웃</button>
		</header>
		<main id="lobby-main">
			<div id="room-list">
				<div class="title">리스트</div>
				<div id="rooms"></div>
				<button id="refresh-list"><i class="fa fa-refresh"><span class="sr-only">새로고침</span></i></button>
			</div>
		</main>
		<footer id="lobby-footer">
			<button id="show-createroom-modal">방 만들기</button>
			<div id="search">
				<input type="text" placeholder="방 제목"/>
				<button id="searchroom-btn"><i class="fa fa-search"><span class="sr-only">검색</span></i></button>
			</div>
		</footer>
	</script>
	<script type="text/html" id="wwm-createroom-modal">
		<header id="createroom-header"><h1>방생성</h1></header>
		<main id="createroom-main">
			<div class="input-group">
				<label for="room-title">방제목</label>
				<input id="room-title"/>
			</div>
			<div class="input-group">
				<label for="room-people-number">인원수</label>
				<select id="room-people-number">
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
				</select>
			</div>
			<div class="input-group">
				<label for="room-password">비밀번호</label>
				<input id="room-password" placeholder="빈칸이면 공개방">
			</div>
		</main>
		<footer id="createroom-footer">
			<button id="create-room-btn">방생성</button>
			<button class="modal-close">취소</button>
		</footer>
	</script>
	<script type="text/html" id="wwm-room">
		<header id="room-header">
			<b id="title">{~lb}title{~rb}</b>&nbsp;
			<div id="room-people-info"><span><b id="current-number">{~lb}current{~rb}</b>명</span>
			<span>/<b id="total-number">{~lb}total{~rb}</b>명</span></div>
		</header>
		<main id="room-main">
			<div>
				<div id="day">오전</div>
				<div id="night">오후</div>
			</div>
			<table border="1">
				<tr>
					<th></th>
					<th>일</th>
					<th>월</th>
					<th>화</th>
					<th>수</th>
					<th>목</th>
					<th>금</th>
					<th>토</th>
				</tr>
				<tr>
					<th>12</th>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<th>1</th>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<th>2</th>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<th>3</th>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<th>4</th>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<th>5</th>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<th>6</th>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<th>7</th>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<th>8</th>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<th>9</th>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<th>10</th>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<th>11</th>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
			</table>
			<div id="member-list">
				<ul>
				</ul>
			</div>
			<div id="chat-list"></div>
			<button id="confirm-calendar">확정!</button>
			<button id="refresh-calendar"><i class="fa fa-refresh"><span class="sr-only">새로고침</span></i></button>
			<button id="all-confirmed">결과보기</button>
		</main>
		<footer id="room-footer">
			<div id="my-menu">				
				<div id="admin-menu">
					{~lb}?admin{~rb}
					<ul>
						<li id="ban-people">
							<label for="ban-member-list" class="sr-only">현재 참여자</label>
							<select id="ban-member-list">
							{~lb}#members{~rb}
								<option value="{~lb}id{~rb}">{~lb}name{~rb}</option>
							{~lb}/members{~rb}
							</select>
							<button id="ban-people-btn">강퇴</button>
						</li>
						<li><input id="current-room-title" value="{~lb}title{~rb}"/><button id="change-room-title">변경</button></li>
						<li>
							인원수 조정 <input id="current-people-number" value="{~lb}number{~rb}"/><button id="change-number-btn">변경</button>
						</li>
						<li id="explode-room">방 폭파</li>
						<li id="invite">초대장보내기</li>
					</ul>
					<button>관리자 메뉴</button>
					{~lb}:else{~rb}
					<ul><li id="invite">초대장보내기</li></ul>
					<button>초대</button>
					{~lb}/admin{~rb}
				</div>
				
				<div id="day-exception">
					<ul>
						<li id="not-mon">월요일은 안 돼요</li>
						<li id="not-tue">화요일은 안 돼요</li>
						<li id="not-wed">수요일은 안 돼요</li>
						<li id="not-thu">목요일은 안 돼요</li>
						<li id="not-fri">금요일은 안 돼요</li>
						<li id="not-sat">토요일은 안 돼요</li>
						<li id="not-sun">일요일은 안 돼요</li>
					</ul>
					<button>요일 예외</button>
				</div>
				<div id="time-exception">					
					<ul>
						<li id="not-before">
							<label for="time-before" class="sr-only">몇 시 이전은 불가능</label>
							<input id="time-before"/>시 이전은 안돼요
						</li>
						<li id="not-after">
							<label for="time-after" class="sr-only">몇 시 이전은 불가능</label>
							<input id="time-after"/>시 이후는 안돼요
						</li>
					</ul>
					<button>시간 예외</button>
				</div>
				<button id="room-back">목록으로</button>
				<button id="quit">나가기</button>
			</div>
			<div id="my-info">
				{~lb}name{~rb}
			</div>
			<div id="chat">
				<input id="chatbox" placeholder="채팅창"/>
				<button id="send-chat">전송</button>
			</div>
		</footer>
	</script>
	<script type="text/html" id="wwm-confirm">
		<header>결과</header>
		<main>
			<div id="result"></div>
			<div id="result-to-sns">
				<div id="result-to-kakao">카카오</div>
				<div id="result-to-fb">페북</div>
			</div>
		</main>
		<footer>
			<button id="to-lobby">로비</button>
			<button id="to-room">방으로</button>
		</footer>
	</script>
	<div id="fb-root"></div>
</body>
</html>
